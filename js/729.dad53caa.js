"use strict";(self["webpackChunklexar_cli"]=self["webpackChunklexar_cli"]||[]).push([[729],{6729:function(e,t,a){a.r(t),a.d(t,{default:function(){return te}});var l=a(6252),s=a(3659);const o=(0,l._)("div",{class:"bg-container"},[(0,l._)("img",{class:"support-bg",src:s}),(0,l._)("p",{class:"bg-title"},"Finalize Your Payment")],-1),r={class:"container"},i={class:"column row"},n={class:"row-md-12 col-lg-7"},d={class:"row-md-12 col-lg-5"};function c(e,t,a,s,c,m){const u=(0,l.up)("NavBar"),p=(0,l.up)("CartView",!0),h=(0,l.up)("CartForm"),f=(0,l.up)("FooterBar");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u,{"is-dark":c.isDark},null,8,["is-dark"]),o,(0,l._)("div",r,[(0,l._)("div",i,[(0,l._)("div",n,[(0,l.Wm)(p)]),(0,l._)("div",d,[(0,l.Wm)(h)])])]),(0,l.Wm)(f)],64)}var m=a(3577),u=a(9963);const p=e=>((0,l.dD)("data-v-16c84647"),e=e(),(0,l.Cn)(),e),h={class:"table align-middle mt-5"},f=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",null,"Item"),(0,l._)("th",{style:{width:"150px"}},"PCS"),(0,l._)("th",null,"Item Price")])],-1))),_=["onClick"],b=(0,l.Uk)(" x "),g={class:"input-group input-group-sm"},v={class:"input-group mb-3"},C=["onUpdate:modelValue","onChange","disabled"],w=["value"],y={class:"input-group-text",id:"basic-addon2"},k={class:""},x=p((()=>(0,l._)("small",null,"$:",-1))),D=p((()=>(0,l._)("td",{colspan:"3",class:"text-end"},"Total Price:",-1))),V={class:"text-end"},W={class:"text-start"},$=["disabled"];function q(e,t,a,s,o,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("table",h,[f,(0,l._)("tbody",null,[o.cart?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(o.cart,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.product.id},[(0,l._)("td",null,[(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:t=>r.delItem(e.id)},[(0,l._)("i",{class:(0,m.C_)(["fas fa-pulse",{"fa-spinner":o.isDeleting===e.id}])},null,2),b],8,_)]),(0,l._)("td",null,(0,m.zw)(e.product.title),1),(0,l._)("td",null,[(0,l._)("div",g,[(0,l._)("div",v,[(0,l.wy)((0,l._)("select",{id:"",class:"form select","onUpdate:modelValue":t=>e.qty=t,onChange:t=>r.updateCart(e),disabled:o.isLoading===e.id},[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(20,(e=>(0,l._)("option",{value:e,key:e},(0,m.zw)(e),9,w))),64))],40,C),[[u.bM,e.qty]]),(0,l._)("span",y,(0,m.zw)(e.product.unit),1)])])]),(0,l._)("td",k,[x,(0,l.Uk)(" "+(0,m.zw)(e.product.price),1)])])))),128)):(0,l.kq)("",!0)]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[D,(0,l._)("td",V,"$"+(0,m.zw)(r.totalPrice),1)])])]),(0,l._)("div",W,[(0,l._)("button",{class:"btn btn-outline-danger btn-content",type:"button",onClick:t[0]||(t[0]=(...e)=>r.delCart&&r.delCart(...e)),disabled:0===o.cart.length},"Clean Cart",8,$)])],64)}var U=a(4902),Z={data(){return{cart:[],isLoading:"",isDeleting:""}},computed:{totalPrice(){let e=0;return this.cart.forEach((t=>{e+=t.final_total})),e}},methods:{getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/williamone/cart").then((e=>{this.cart=e.data.data.carts,U.Z.emit("cartData",this.cart)})).catch((e=>{console.dir(e)}))},delCart(){this.$http.delete("https://vue3-course-api.hexschool.io/v2/api/williamone/carts").then((e=>{this.getCart(),U.Z.emit("cartToggle")})),this.$swal.fire({title:"Cart Deleted",icon:"success",showCancelButton:!1,confirmButtonColor:"#128c9f",confirmButtonText:"Okay"}).catch((e=>{console.dir(e)}))},delItem(e){this.isDeleting=e,console.log(e),this.$http.delete(`https://vue3-course-api.hexschool.io/v2/api/williamone/cart/${e}`).then((e=>{this.getCart(),this.isDeleting=""})).catch((e=>{console.dir(e)}))},updateCart(e){this.isLoading=e.id;const t={product_id:e.id,qty:e.qty};this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/williamone/cart/${e.id}`,{data:t}).then((e=>{console.log(e),this.isLoading="",this.getCart()})).catch((e=>{console.dir(e)}))}},created(){U.Z.on("loadCart",(e=>{this.getCart()}))},mounted(){this.getCart()}},B=a(3744);const P=(0,B.Z)(Z,[["render",q],["__scopeId","data-v-16c84647"]]);var z=P;const I=e=>((0,l.dD)("data-v-0689a596"),e=e(),(0,l.Cn)(),e),O={class:"my-5 row justify-content-center"},T={class:"mb-3"},F=I((()=>(0,l._)("label",{for:"email",class:"form-label"},"E-Mail",-1))),Y={class:"mb-3"},H=I((()=>(0,l._)("label",{for:"name",class:"form-label"},"Name",-1))),L={class:"mb-3"},j=I((()=>(0,l._)("label",{for:"tel",class:"form-label"},"Telphone",-1))),M={class:"mb-3"},S=I((()=>(0,l._)("label",{for:"address",class:"form-label"},"Address",-1))),E={class:"mb-3"},K=I((()=>(0,l._)("label",{for:"message",class:"form-label"},"Message",-1))),N={class:"text-end"},A=["disabled"];function G(e,t,a,s,o,r){const i=(0,l.up)("v-field"),n=(0,l.up)("error-message"),d=(0,l.up)("v-form");return(0,l.wg)(),(0,l.iD)("div",O,[(0,l.Wm)(d,{ref:"form",class:"col-md-8",onSubmit:r.submitOrder},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",T,[F,(0,l.Wm)(i,{id:"email",name:"email",type:"email",class:(0,m.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"",rules:"email|required",modelValue:o.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.user.email=e)},null,8,["class","modelValue"]),(0,l.Wm)(n,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",Y,[H,(0,l.Wm)(i,{id:"name",name:"name",type:"text",class:(0,m.C_)(["form-control",{"is-invalid":e["name"]}]),placeholder:"",rules:"required",modelValue:o.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.user.name=e)},null,8,["class","modelValue"]),(0,l.Wm)(n,{name:"name",class:"invalid-feedback"})]),(0,l._)("div",L,[j,(0,l.Wm)(i,{id:"tel",name:"telphone",type:"tel",class:(0,m.C_)(["form-control",{"is-invalid":e["telphone"]}]),placeholder:"",rules:"|required|min:8|max:10",modelValue:o.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.user.tel=e)},null,8,["class","modelValue"]),(0,l.Wm)(n,{name:"telphone",class:"invalid-feedback"})]),(0,l._)("div",M,[S,(0,l.Wm)(i,{id:"address",name:"address",type:"text",class:(0,m.C_)(["form-control",{"is-invalid":e["address"]}]),placeholder:"",rules:"required",modelValue:o.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.user.address=e)},null,8,["class","modelValue"]),(0,l.Wm)(n,{name:"address",class:"invalid-feedback"})]),(0,l._)("div",E,[K,(0,l.wy)((0,l._)("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=e=>o.form.address=e)},null,512),[[u.nr,o.form.address]])]),(0,l._)("div",N,[(0,l._)("button",{type:"submit",class:"btn btn-primary btn-content mt-1",disabled:Object.keys(e).length>0||0===o.cart.length},"Place your order",8,A)])])),_:1},8,["onSubmit"])])}var J={data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{}}},methods:{submitOrder(){const e=this.form;this.$http.post("https://vue3-course-api.hexschool.io/v2/api/williamone/order",{data:e}).then((e=>{console.log(e),this.$refs.form.resetForm(),this.form.message="",this.$swal.fire({title:"Order Created",icon:"success",showCancelButton:!1,confirmButtonColor:"#128c9f",confirmButtonText:"Okay"}),U.Z.emit("loadCart"),U.Z.emit("cartToggle")})).catch((e=>{console.dir(e)}))}},mounted(){},created(){U.Z.on("cartData",(e=>{this.cart=e,console.log(this.cart)}))}};const Q=(0,B.Z)(J,[["render",G],["__scopeId","data-v-0689a596"]]);var R=Q,X={data(){return{isDark:!1,defaultComp:!0}},components:{CartView:z,CartForm:R},methods:{switchComp(e){this.defaultComp=e}},mounted(){}};const ee=(0,B.Z)(X,[["render",c]]);var te=ee},3659:function(e,t,a){e.exports=a.p+"img/cart_head-banner.9721776f.jpg"}}]);
//# sourceMappingURL=729.dad53caa.js.map